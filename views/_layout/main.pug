include ../_components/fa
include ../_components/style

doctype html
html(lang="en")
    head
        // Meta
        meta(charset="UTF-8")
        meta(name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no")
        
        // Icons
        link(rel="shortcut icon" type="image/x-icon" href="/favicon.ico")
        link(rel="icon" type="image/png" href="/favicon.png")

        // Other
        title= title || "Kitchen View"

        // Bootstrap CSS
        +style("https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css")(
            integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
            crossorigin="anonymous"
        )

        // Bootstrap JS
        script(
            defer
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"
        )
        script(
            defer
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"
        )
        script(
            defer
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"
        )

        // FontAwesome CSS
        +style("https://use.fontawesome.com/releases/v5.2.0/css/all.css")(
            integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
            crossorigin="anonymous"
        )

        // Theme CSS
        +style("/styles/main.css")

        // Main JS
        script(defer src="/scripts/main.js")

        block head

    body.flex.flex-col

        header
            nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
                a.navbar-brand(href="/") 
                    +fas.fa-fw.fa-utensils
                    span.logo-text Kitchen View 2.0
                button.navbar-toggler(type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation")
                    span.navbar-toggler-icon

                .collapse.navbar-collapse#navbarContent

                    ul.navbar-nav.ml-auto
                        if CurrentUser
                            li.nav-item.dropdown
                                a.nav-link.dropdown-toggle(href="#" id="userMenu" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false")
                                    +fas.fa-lg.fa-user-circle
                                    = CurrentUser.name
                                .dropdown-menu.dropdown-menu-right(aria-labelledby="userMenu")
                                    a.dropdown-item(href="/queues") My Queues
                                    a.dropdown-item(href="/logout") Logout
                        else
                            li.nav-item
                                a.nav-link(href="/login") Login

        main.flex-grow
            block content

        footer.flex.flex-center.text-light.bg-dark.p-1
            div &copy; #{ (new Date()).getFullYear() } NewPointe Community Church
